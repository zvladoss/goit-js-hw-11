{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '49340244-28a37e61aef480134de69edd6';\nexport const getPhotos = query => {\n  return axios\n    .get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => response.data)\n    .catch(error => console.log(error));\n};\n","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\n\nexport const renderImage = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        <div class=\"info-wrap\">\n        <p class=\"gallery-info\">Likes: ${likes}</p>\n        <p class=\"gallery-info\">Views: ${views}</p>\n        <p class=\"gallery-info\">Comments: ${comments}</p>\n        <p class=\"gallery-info\">Downloads: ${downloads}</p>\n        </div>        \n      </li>\n    `;\n};\n","import iziToast from 'izitoast';\nimport { getPhotos } from './js/pixabay-api';\nimport { renderImage } from './js/render-functions';\nconst refs = {\n  searchForm: document.querySelector('form'),\n  searchInput: document.querySelector('[name=\"search-text\"]'),\n  gallery: document.querySelector('.gallery'),\n  galleryLink: document.querySelector('.gallery-link'),\n};\n//* LOADER\n\nconst loaderBox = document.createElement('div');\nloaderBox.classList.add('loader-box');\n\nconst loader = document.createElement('span');\nloader.classList.add('loader');\n\nloaderBox.appendChild(loader);\n\ndocument.body.insertBefore(loaderBox, refs.searchForm.nextSibling);\n\nconst showLoader = loaderBox.classList.add('visible');\nconst hideLoader = loaderBox.classList.remove('visible');\n\n// *\n// console.dir(refs.searchForm);\n// console.dir(refs.searchInput);\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  const formValue = refs.searchInput.value.trim();\n\n  if (!formValue) {\n    iziToast.error({\n      message: 'Error!',\n    });\n    return;\n  }\n\n  refs.searchForm.reset();\n\n  getPhotos(formValue)\n    .finally.then(data => {\n      if (data.hits.length === 0) {\n        return;\n      }\n      const addGalleryItem = data.hits.map(hit => renderImage(hit)).join('');\n      refs.gallery.insertAdjacentHTML('beforeend', addGalleryItem);\n      console.log(addGalleryItem);\n    })\n    .catch(error => {\n      console.error(error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later!',\n        position: 'topRight',\n      });\n    });\n};\nrefs.searchForm.addEventListener('submit', onFormSubmit);\n"],"names":["BASE_URL","API_KEY","getPhotos","query","axios","response","error","renderImage","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","loaderBox","loader","onFormSubmit","event","formValue","iziToast","data","addGalleryItem","hit"],"mappings":"6vBACA,MAAMA,EAAW,2BACXC,EAAU,qCACHC,EAAYC,GAChBC,EACJ,IAAIJ,EAAU,CACb,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,ECZzBC,EAAc,CAAC,CAC1B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,wCAE+BL,CAAa;AAAA,0CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,yCAG3BC,CAAK;AAAA,yCACLC,CAAK;AAAA,4CACFC,CAAQ;AAAA,6CACPC,CAAS;AAAA;AAAA;AAAA,MClBhDC,EAAO,CACX,WAAY,SAAS,cAAc,MAAM,EACzC,YAAa,SAAS,cAAc,sBAAsB,EAC1D,QAAS,SAAS,cAAc,UAAU,EAC1C,YAAa,SAAS,cAAc,eAAe,CACrD,EAGMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAU,IAAI,YAAY,EAEpC,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAE7BD,EAAU,YAAYC,CAAM,EAE5B,SAAS,KAAK,aAAaD,EAAWD,EAAK,WAAW,WAAW,EAE9CC,EAAU,UAAU,IAAI,SAAS,EACjCA,EAAU,UAAU,OAAO,SAAS,EAKvD,MAAME,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EAEpB,MAAMC,EAAYL,EAAK,YAAY,MAAM,KAAI,EAE7C,GAAI,CAACK,EAAW,CACdC,EAAS,MAAM,CACb,QAAS,QACf,CAAK,EACD,MACD,CAEDN,EAAK,WAAW,QAEhBb,EAAUkB,CAAS,EAChB,QAAQ,KAAKE,GAAQ,CACpB,GAAIA,EAAK,KAAK,SAAW,EACvB,OAEF,MAAMC,EAAiBD,EAAK,KAAK,IAAIE,GAAOjB,EAAYiB,CAAG,CAAC,EAAE,KAAK,EAAE,EACrET,EAAK,QAAQ,mBAAmB,YAAaQ,CAAc,EAC3D,QAAQ,IAAIA,CAAc,CAChC,CAAK,EACA,MAAMjB,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBe,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,CAAK,CACL,EACAN,EAAK,WAAW,iBAAiB,SAAUG,CAAY"}