{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '49340244-28a37e61aef480134de69edd6';\nexport const getPhotos = query => {\n  return axios\n    .get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 15,\n      },\n    })\n    .then(response => response.data)\n    .catch(error => console.log(error));\n};\n","// import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nexport const renderImage = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        <ul class=\"gallery-list-info\">\n          <li class=\"gallery-list-info-item\">\n            <h3 class=\"gallery-list-info-title\">Likes</h3>\n            <p class=\"gallery-list-info-subtitle\">${likes}</p>\n          </li>\n          <li class=\"gallery-list-info-item\">\n            <h3 class=\"gallery-list-info-title\">Views</h3>\n            <p class=\"gallery-list-info-subtitle\">${views}</p>\n          </li>\n          <li class=\"gallery-list-info-item\">\n            <h3 class=\"gallery-list-info-title\">Comments</h3>\n            <p class=\"gallery-list-info-subtitle\">${comments}</p>\n          </li>\n          <li class=\"gallery-list-info-item\">\n            <h3 class=\"gallery-list-info-title\">Downloads</h3>\n            <p class=\"gallery-list-info-subtitle\">${downloads}</p>\n          </li>\n        </ul>      \n      </li>\n    `;\n};\nexport const lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport const updateGallery = (galleryRef, images) => {\n  galleryRef.innerHTML = images.map(renderImage).join('');\n  lightbox.refresh();\n};\n","import iziToast from 'izitoast';\nimport { getPhotos } from './js/pixabay-api';\nimport { updateGallery } from './js/render-functions';\nconst refs = {\n  searchForm: document.querySelector('form'),\n  searchInput: document.querySelector('[name=\"search-text\"]'),\n  gallery: document.querySelector('.gallery'),\n};\n\n//* LOADER\n\nconst loaderBox = document.createElement('div');\nloaderBox.classList.add('loader-box');\n\nconst loader = document.createElement('span');\n\nloaderBox.appendChild(loader);\n\ndocument.body.insertBefore(loaderBox, refs.searchForm.nextSibling);\n\nconst showLoader = () => loaderBox.classList.add('loader');\nconst hideLoader = () => loaderBox.classList.remove('loader');\n// *\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  const formValue = refs.searchInput.value.trim();\n\n  if (!formValue) {\n    iziToast.error({\n      message: 'Error!',\n    });\n    return;\n  }\n\n  refs.searchForm.reset();\n\n  showLoader();\n  getPhotos(formValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Something went wrong. Please try again later!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      updateGallery(refs.gallery, data.hits);\n    })\n    .catch(error => {\n      console.error(error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later!',\n        position: 'topRight',\n      });\n    })\n    .finally(() => hideLoader());\n};\nrefs.searchForm.addEventListener('submit', onFormSubmit);\n"],"names":["BASE_URL","API_KEY","getPhotos","query","axios","response","error","renderImage","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","updateGallery","galleryRef","images","refs","loaderBox","loader","showLoader","hideLoader","onFormSubmit","event","formValue","iziToast","data"],"mappings":"owBACA,MAAMA,EAAW,2BACXC,EAAU,qCACHC,EAAYC,GAChBC,EACJ,IAAIJ,EAAU,CACb,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,ECdzBC,EAAc,CAAC,CAC1B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,wCAE+BL,CAAa;AAAA,0CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKhBC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAMhDC,EAAW,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EAEYC,EAAgB,CAACC,EAAYC,IAAW,CACnDD,EAAW,UAAYC,EAAO,IAAIZ,CAAW,EAAE,KAAK,EAAE,EACtDQ,EAAS,QAAO,CAClB,EC1CMK,EAAO,CACX,WAAY,SAAS,cAAc,MAAM,EACzC,YAAa,SAAS,cAAc,sBAAsB,EAC1D,QAAS,SAAS,cAAc,UAAU,CAC5C,EAIMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAU,IAAI,YAAY,EAEpC,MAAMC,EAAS,SAAS,cAAc,MAAM,EAE5CD,EAAU,YAAYC,CAAM,EAE5B,SAAS,KAAK,aAAaD,EAAWD,EAAK,WAAW,WAAW,EAEjE,MAAMG,EAAa,IAAMF,EAAU,UAAU,IAAI,QAAQ,EACnDG,EAAa,IAAMH,EAAU,UAAU,OAAO,QAAQ,EAGtDI,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EAEpB,MAAMC,EAAYP,EAAK,YAAY,MAAM,KAAI,EAE7C,GAAI,CAACO,EAAW,CACdC,EAAS,MAAM,CACb,QAAS,QACf,CAAK,EACD,MACD,CAEDR,EAAK,WAAW,QAEhBG,IACArB,EAAUyB,CAAS,EAChB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UACpB,CAAS,EACD,MACD,CAEDX,EAAcG,EAAK,QAASS,EAAK,IAAI,CAC3C,CAAK,EACA,MAAMvB,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBsB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMJ,EAAU,CAAE,CAC/B,EACAJ,EAAK,WAAW,iBAAiB,SAAUK,CAAY"}